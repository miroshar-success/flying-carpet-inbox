{"ast":null,"code":"var _jsxFileName = \"D:\\\\workspace\\\\flying-assess\\\\flyingcarpet-shared-inbox\\\\src\\\\pages\\\\apps\\\\Email\\\\Compose.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport * as yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { Link } from 'react-router-dom'; // Form Editor\n\nimport { Editor } from 'react-draft-wysiwyg';\nimport { EditorState, convertToRaw, ContentState } from 'draft-js';\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs'; // styles\n\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'; // components\n\nimport PageTitle from '../../../components/PageTitle';\nimport { VerticalForm, FormInput } from '../../../components/';\nimport LeftBar from './LeftBar'; // dummy data\n\nimport { emails } from './data';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Compose = () => {\n  _s();\n\n  const [editorState, setEditorState] = useState();\n  const [totalUnreadEmails] = useState(emails.filter(e => e.is_read === false).length);\n  useEffect(() => {\n    const html = `<h3>This is an Air-mode editable area.</h3>\n            <ul> \n                <li>Select a text to reveal the toolbar.</li>\n                <li>Edit rich document on-the-fly, so elastic!</li>\n            </ul>\n            <p>End of air-mode area</p>`;\n    const contentBlock = htmlToDraft(html);\n\n    if (contentBlock) {\n      const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\n      setEditorState(EditorState.createWithContent(contentState));\n    }\n  }, []);\n  const schemaResolver = yupResolver(yup.object().shape({\n    to: yup.string().required('Please specify to email'),\n    subject: yup.string().required('Please specify subject')\n  }));\n  /**\r\n   * Handles the save\r\n   * @param {*} event\r\n   * @param {*} values\r\n   */\n\n  const handleEmailSave = (event, values) => {\n    const body = draftToHtml(convertToRaw(editorState.getCurrentContent()));\n    console.log({ ...values,\n      body\n    });\n  };\n  /**\r\n   * On editor body change\r\n   */\n\n\n  const onEditorStateChange = editorStates => {\n    setEditorState(editorStates);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(PageTitle, {\n      breadCrumbItems: [{\n        label: 'Email',\n        path: '/apps/email/compose'\n      }, {\n        label: 'Compose Email',\n        path: '/apps/email/compose',\n        active: true\n      }],\n      title: 'Compose Email'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"email-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inbox-leftbar\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/apps/email/inbox\",\n              className: \"btn btn-danger d-block\",\n              children: \"Inbox\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(LeftBar, {\n              showChatDetails: false,\n              totalUnreadEmails: totalUnreadEmails\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inbox-rightbar p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(VerticalForm, {\n                onSubmit: handleEmailSave,\n                resolver: schemaResolver,\n                children: [/*#__PURE__*/_jsxDEV(FormInput, {\n                  type: \"email\",\n                  name: \"to\",\n                  placeholder: \"To\",\n                  containerClass: 'mb-3'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n                  type: \"text\",\n                  name: \"subject\",\n                  placeholder: \"Subject\",\n                  containerClass: 'mb-3'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3 card border-0\",\n                  children: /*#__PURE__*/_jsxDEV(Editor, {\n                    editorState: editorState,\n                    toolbarClassName: \"toolbarClassName\",\n                    wrapperClassName: \"wrapperClassName border border-1 border-soft-dark mb-3 card\",\n                    editorClassName: \"editorClassName px-2 pt-0\",\n                    editorStyle: {\n                      minHeight: '300px'\n                    },\n                    onEditorStateChange: onEditorStateChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3 pt-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-end\",\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"success\",\n                      className: \"me-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"uil uil-envelope-edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 110,\n                        columnNumber: 49\n                      }, this), \" Draft\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 109,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      type: \"submit\",\n                      children: [' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Send\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"uil uil-message ms-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 115,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 112,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"clearfix\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Compose, \"YozPCnhv6T0gJdghueKDgOHwnDo=\");\n\n_c = Compose;\nexport default Compose;\n\nvar _c;\n\n$RefreshReg$(_c, \"Compose\");","map":{"version":3,"sources":["D:/workspace/flying-assess/flyingcarpet-shared-inbox/src/pages/apps/Email/Compose.tsx"],"names":["React","useState","useEffect","Row","Col","Button","yup","yupResolver","Link","Editor","EditorState","convertToRaw","ContentState","draftToHtml","htmlToDraft","PageTitle","VerticalForm","FormInput","LeftBar","emails","Compose","editorState","setEditorState","totalUnreadEmails","filter","e","is_read","length","html","contentBlock","contentState","createFromBlockArray","contentBlocks","createWithContent","schemaResolver","object","shape","to","string","required","subject","handleEmailSave","event","values","body","getCurrentContent","console","log","onEditorStateChange","editorStates","label","path","active","minHeight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Row, Col, Button } from 'react-bootstrap';\r\nimport * as yup from 'yup';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Form Editor\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertToRaw, ContentState } from 'draft-js';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport htmlToDraft from 'html-to-draftjs';\r\n// styles\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\n\r\n// components\r\nimport PageTitle from '../../../components/PageTitle';\r\nimport { VerticalForm, FormInput } from '../../../components/';\r\n\r\nimport LeftBar from './LeftBar';\r\n\r\n// dummy data\r\nimport { emails } from './data';\r\n\r\nconst Compose = () => {\r\n    const [editorState, setEditorState] = useState<any>();\r\n    const [totalUnreadEmails] = useState<number>(emails.filter((e: any) => e.is_read === false).length);\r\n\r\n    useEffect(() => {\r\n        const html = `<h3>This is an Air-mode editable area.</h3>\r\n            <ul> \r\n                <li>Select a text to reveal the toolbar.</li>\r\n                <li>Edit rich document on-the-fly, so elastic!</li>\r\n            </ul>\r\n            <p>End of air-mode area</p>`;\r\n        const contentBlock = htmlToDraft(html);\r\n        if (contentBlock) {\r\n            const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\r\n            setEditorState(EditorState.createWithContent(contentState));\r\n        }\r\n    }, []);\r\n\r\n    const schemaResolver = yupResolver(\r\n        yup.object().shape({\r\n            to: yup.string().required('Please specify to email'),\r\n            subject: yup.string().required('Please specify subject'),\r\n        })\r\n    );\r\n\r\n    /**\r\n     * Handles the save\r\n     * @param {*} event\r\n     * @param {*} values\r\n     */\r\n    const handleEmailSave = (event: any, values: any) => {\r\n        const body = draftToHtml(convertToRaw(editorState.getCurrentContent()));\r\n        console.log({ ...values, body });\r\n    };\r\n\r\n    /**\r\n     * On editor body change\r\n     */\r\n    const onEditorStateChange = (editorStates: any) => {\r\n        setEditorState(editorStates);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <PageTitle\r\n                breadCrumbItems={[\r\n                    { label: 'Email', path: '/apps/email/compose' },\r\n                    { label: 'Compose Email', path: '/apps/email/compose', active: true },\r\n                ]}\r\n                title={'Compose Email'}\r\n            />\r\n            <Row>\r\n                <Col>\r\n                    <div className=\"email-container\">\r\n                        <div className=\"inbox-leftbar\">\r\n                            <Link to=\"/apps/email/inbox\" className=\"btn btn-danger d-block\">\r\n                                Inbox\r\n                            </Link>\r\n                            <LeftBar showChatDetails={false} totalUnreadEmails={totalUnreadEmails} />\r\n                        </div>\r\n\r\n                        <div className=\"inbox-rightbar p-4\">\r\n                            <div>\r\n                                <VerticalForm onSubmit={handleEmailSave} resolver={schemaResolver}>\r\n                                    <FormInput type=\"email\" name=\"to\" placeholder=\"To\" containerClass={'mb-3'} />\r\n                                    <FormInput\r\n                                        type=\"text\"\r\n                                        name=\"subject\"\r\n                                        placeholder=\"Subject\"\r\n                                        containerClass={'mb-3'}\r\n                                    />\r\n\r\n                                    <div className=\"mb-3 card border-0\">\r\n                                        <Editor\r\n                                            editorState={editorState}\r\n                                            toolbarClassName=\"toolbarClassName\"\r\n                                            wrapperClassName=\"wrapperClassName border border-1 border-soft-dark mb-3 card\"\r\n                                            editorClassName=\"editorClassName px-2 pt-0\"\r\n                                            editorStyle={{ minHeight: '300px' }}\r\n                                            onEditorStateChange={onEditorStateChange}\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"mb-3 pt-2\">\r\n                                        <div className=\"text-end\">\r\n                                            <Button variant=\"success\" className=\"me-1\">\r\n                                                <i className=\"uil uil-envelope-edit\"></i> Draft\r\n                                            </Button>\r\n                                            <Button type=\"submit\">\r\n                                                {' '}\r\n                                                <span>Send</span>\r\n                                                <i className=\"uil uil-message ms-2\"></i>\r\n                                            </Button>\r\n                                        </div>\r\n                                    </div>\r\n                                </VerticalForm>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"clearfix\"></div>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Compose;\r\n"]},"metadata":{},"sourceType":"module"}