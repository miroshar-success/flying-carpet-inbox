{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar Immutable = require(\"immutable\");\n\nvar Record = Immutable.Record;\nvar defaultRecord = {\n  anchorKey: '',\n  anchorOffset: 0,\n  focusKey: '',\n  focusOffset: 0,\n  isBackward: false,\n  hasFocus: false\n};\n/* $FlowFixMe[unclear-type] This comment suppresses an error found when\n * automatically adding a type annotation with the codemod Komodo/Annotate_\n * exports. To see the error delete this comment and run Flow. */\n\nvar SelectionStateRecord = Record(defaultRecord);\n\nvar SelectionState = /*#__PURE__*/function (_SelectionStateRecord) {\n  _inheritsLoose(SelectionState, _SelectionStateRecord);\n\n  function SelectionState() {\n    return _SelectionStateRecord.apply(this, arguments) || this;\n  }\n\n  var _proto = SelectionState.prototype;\n\n  _proto.serialize = function serialize() {\n    return 'Anchor: ' + this.getAnchorKey() + ':' + this.getAnchorOffset() + ', ' + 'Focus: ' + this.getFocusKey() + ':' + this.getFocusOffset() + ', ' + 'Is Backward: ' + String(this.getIsBackward()) + ', ' + 'Has Focus: ' + String(this.getHasFocus());\n  };\n\n  _proto.getAnchorKey = function getAnchorKey() {\n    return this.get('anchorKey');\n  };\n\n  _proto.getAnchorOffset = function getAnchorOffset() {\n    return this.get('anchorOffset');\n  };\n\n  _proto.getFocusKey = function getFocusKey() {\n    return this.get('focusKey');\n  };\n\n  _proto.getFocusOffset = function getFocusOffset() {\n    return this.get('focusOffset');\n  };\n\n  _proto.getIsBackward = function getIsBackward() {\n    return this.get('isBackward');\n  };\n\n  _proto.getHasFocus = function getHasFocus() {\n    return this.get('hasFocus');\n  }\n  /**\n   * Return whether the specified range overlaps with an edge of the\n   * SelectionState.\n   */\n  ;\n\n  _proto.hasEdgeWithin = function hasEdgeWithin(blockKey, start, end) {\n    var anchorKey = this.getAnchorKey();\n    var focusKey = this.getFocusKey();\n\n    if (anchorKey === focusKey && anchorKey === blockKey) {\n      var selectionStart = this.getStartOffset();\n      var selectionEnd = this.getEndOffset();\n      return start <= selectionStart && selectionStart <= end || // selectionStart is between start and end, or\n      start <= selectionEnd && selectionEnd <= end // selectionEnd is between start and end\n      ;\n    }\n\n    if (blockKey !== anchorKey && blockKey !== focusKey) {\n      return false;\n    }\n\n    var offsetToCheck = blockKey === anchorKey ? this.getAnchorOffset() : this.getFocusOffset();\n    return start <= offsetToCheck && end >= offsetToCheck;\n  };\n\n  _proto.isCollapsed = function isCollapsed() {\n    return this.getAnchorKey() === this.getFocusKey() && this.getAnchorOffset() === this.getFocusOffset();\n  };\n\n  _proto.getStartKey = function getStartKey() {\n    return this.getIsBackward() ? this.getFocusKey() : this.getAnchorKey();\n  };\n\n  _proto.getStartOffset = function getStartOffset() {\n    return this.getIsBackward() ? this.getFocusOffset() : this.getAnchorOffset();\n  };\n\n  _proto.getEndKey = function getEndKey() {\n    return this.getIsBackward() ? this.getAnchorKey() : this.getFocusKey();\n  };\n\n  _proto.getEndOffset = function getEndOffset() {\n    return this.getIsBackward() ? this.getAnchorOffset() : this.getFocusOffset();\n  };\n\n  SelectionState.createEmpty = function createEmpty(key) {\n    return new SelectionState({\n      anchorKey: key,\n      anchorOffset: 0,\n      focusKey: key,\n      focusOffset: 0,\n      isBackward: false,\n      hasFocus: false\n    });\n  };\n\n  return SelectionState;\n}(SelectionStateRecord);\n\nmodule.exports = SelectionState;","map":{"version":3,"sources":["D:/workspace/flyingcarpet/flyingcarpet-shared-inbox/node_modules/draft-js/lib/SelectionState.js"],"names":["_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","Immutable","require","Record","defaultRecord","anchorKey","anchorOffset","focusKey","focusOffset","isBackward","hasFocus","SelectionStateRecord","SelectionState","_SelectionStateRecord","apply","arguments","_proto","serialize","getAnchorKey","getAnchorOffset","getFocusKey","getFocusOffset","String","getIsBackward","getHasFocus","get","hasEdgeWithin","blockKey","start","end","selectionStart","getStartOffset","selectionEnd","getEndOffset","offsetToCheck","isCollapsed","getStartKey","getEndKey","createEmpty","key","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar Immutable = require(\"immutable\");\n\nvar Record = Immutable.Record;\nvar defaultRecord = {\n  anchorKey: '',\n  anchorOffset: 0,\n  focusKey: '',\n  focusOffset: 0,\n  isBackward: false,\n  hasFocus: false\n};\n/* $FlowFixMe[unclear-type] This comment suppresses an error found when\n * automatically adding a type annotation with the codemod Komodo/Annotate_\n * exports. To see the error delete this comment and run Flow. */\n\nvar SelectionStateRecord = Record(defaultRecord);\n\nvar SelectionState = /*#__PURE__*/function (_SelectionStateRecord) {\n  _inheritsLoose(SelectionState, _SelectionStateRecord);\n\n  function SelectionState() {\n    return _SelectionStateRecord.apply(this, arguments) || this;\n  }\n\n  var _proto = SelectionState.prototype;\n\n  _proto.serialize = function serialize() {\n    return 'Anchor: ' + this.getAnchorKey() + ':' + this.getAnchorOffset() + ', ' + 'Focus: ' + this.getFocusKey() + ':' + this.getFocusOffset() + ', ' + 'Is Backward: ' + String(this.getIsBackward()) + ', ' + 'Has Focus: ' + String(this.getHasFocus());\n  };\n\n  _proto.getAnchorKey = function getAnchorKey() {\n    return this.get('anchorKey');\n  };\n\n  _proto.getAnchorOffset = function getAnchorOffset() {\n    return this.get('anchorOffset');\n  };\n\n  _proto.getFocusKey = function getFocusKey() {\n    return this.get('focusKey');\n  };\n\n  _proto.getFocusOffset = function getFocusOffset() {\n    return this.get('focusOffset');\n  };\n\n  _proto.getIsBackward = function getIsBackward() {\n    return this.get('isBackward');\n  };\n\n  _proto.getHasFocus = function getHasFocus() {\n    return this.get('hasFocus');\n  }\n  /**\n   * Return whether the specified range overlaps with an edge of the\n   * SelectionState.\n   */\n  ;\n\n  _proto.hasEdgeWithin = function hasEdgeWithin(blockKey, start, end) {\n    var anchorKey = this.getAnchorKey();\n    var focusKey = this.getFocusKey();\n\n    if (anchorKey === focusKey && anchorKey === blockKey) {\n      var selectionStart = this.getStartOffset();\n      var selectionEnd = this.getEndOffset();\n      return start <= selectionStart && selectionStart <= end || // selectionStart is between start and end, or\n      start <= selectionEnd && selectionEnd <= end // selectionEnd is between start and end\n      ;\n    }\n\n    if (blockKey !== anchorKey && blockKey !== focusKey) {\n      return false;\n    }\n\n    var offsetToCheck = blockKey === anchorKey ? this.getAnchorOffset() : this.getFocusOffset();\n    return start <= offsetToCheck && end >= offsetToCheck;\n  };\n\n  _proto.isCollapsed = function isCollapsed() {\n    return this.getAnchorKey() === this.getFocusKey() && this.getAnchorOffset() === this.getFocusOffset();\n  };\n\n  _proto.getStartKey = function getStartKey() {\n    return this.getIsBackward() ? this.getFocusKey() : this.getAnchorKey();\n  };\n\n  _proto.getStartOffset = function getStartOffset() {\n    return this.getIsBackward() ? this.getFocusOffset() : this.getAnchorOffset();\n  };\n\n  _proto.getEndKey = function getEndKey() {\n    return this.getIsBackward() ? this.getAnchorKey() : this.getFocusKey();\n  };\n\n  _proto.getEndOffset = function getEndOffset() {\n    return this.getIsBackward() ? this.getAnchorOffset() : this.getFocusOffset();\n  };\n\n  SelectionState.createEmpty = function createEmpty(key) {\n    return new SelectionState({\n      anchorKey: key,\n      anchorOffset: 0,\n      focusKey: key,\n      focusOffset: 0,\n      isBackward: false,\n      hasFocus: false\n    });\n  };\n\n  return SelectionState;\n}(SelectionStateRecord);\n\nmodule.exports = SelectionState;"]},"metadata":{},"sourceType":"script"}