{"ast":null,"code":"// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);else // Plain browser env\n    mod(CodeMirror);\n})(function (CodeMirror) {\n  CodeMirror.defineOption(\"placeholder\", \"\", function (cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n\n    if (val && !prev) {\n      cm.on(\"blur\", onBlur);\n      cm.on(\"change\", onChange);\n      cm.on(\"swapDoc\", onChange);\n      CodeMirror.on(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose = function () {\n        onComposition(cm);\n      });\n      onChange(cm);\n    } else if (!val && prev) {\n      cm.off(\"blur\", onBlur);\n      cm.off(\"change\", onChange);\n      cm.off(\"swapDoc\", onChange);\n      CodeMirror.off(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose);\n      clearPlaceholder(cm);\n      var wrapper = cm.getWrapperElement();\n      wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\");\n    }\n\n    if (val && !cm.hasFocus()) onBlur(cm);\n  });\n\n  function clearPlaceholder(cm) {\n    if (cm.state.placeholder) {\n      cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);\n      cm.state.placeholder = null;\n    }\n  }\n\n  function setPlaceholder(cm) {\n    clearPlaceholder(cm);\n    var elt = cm.state.placeholder = document.createElement(\"pre\");\n    elt.style.cssText = \"height: 0; overflow: visible\";\n    elt.style.direction = cm.getOption(\"direction\");\n    elt.className = \"CodeMirror-placeholder CodeMirror-line-like\";\n    var placeHolder = cm.getOption(\"placeholder\");\n    if (typeof placeHolder == \"string\") placeHolder = document.createTextNode(placeHolder);\n    elt.appendChild(placeHolder);\n    cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild);\n  }\n\n  function onComposition(cm) {\n    setTimeout(function () {\n      var empty = false;\n\n      if (cm.lineCount() == 1) {\n        var input = cm.getInputField();\n        empty = input.nodeName == \"TEXTAREA\" ? !cm.getLine(0).length : !/[^\\u200b]/.test(input.querySelector(\".CodeMirror-line\").textContent);\n      }\n\n      if (empty) setPlaceholder(cm);else clearPlaceholder(cm);\n    }, 20);\n  }\n\n  function onBlur(cm) {\n    if (isEmpty(cm)) setPlaceholder(cm);\n  }\n\n  function onChange(cm) {\n    var wrapper = cm.getWrapperElement(),\n        empty = isEmpty(cm);\n    wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\") + (empty ? \" CodeMirror-empty\" : \"\");\n    if (empty) setPlaceholder(cm);else clearPlaceholder(cm);\n  }\n\n  function isEmpty(cm) {\n    return cm.lineCount() === 1 && cm.getLine(0) === \"\";\n  }\n});","map":{"version":3,"sources":["D:/workspace/flying-assess/flyingcarpet-shared-inbox/node_modules/codemirror/addon/display/placeholder.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","defineOption","cm","val","old","prev","Init","on","onBlur","onChange","getInputField","state","placeholderCompose","onComposition","off","clearPlaceholder","wrapper","getWrapperElement","className","replace","hasFocus","placeholder","parentNode","removeChild","setPlaceholder","elt","document","createElement","style","cssText","direction","getOption","placeHolder","createTextNode","appendChild","display","lineSpace","insertBefore","firstChild","setTimeout","empty","lineCount","input","nodeName","getLine","length","test","querySelector","textContent","isEmpty"],"mappings":"AAAA;AACA;AAEA,CAAC,UAASA,GAAT,EAAc;AACb,MAAI,OAAOC,OAAP,IAAkB,QAAlB,IAA8B,OAAOC,MAAP,IAAiB,QAAnD,EAA6D;AAC3DF,IAAAA,GAAG,CAACG,OAAO,CAAC,sBAAD,CAAR,CAAH,CADF,KAEK,IAAI,OAAOC,MAAP,IAAiB,UAAjB,IAA+BA,MAAM,CAACC,GAA1C,EAA+C;AAClDD,IAAAA,MAAM,CAAC,CAAC,sBAAD,CAAD,EAA2BJ,GAA3B,CAAN,CADG,KAEA;AACHA,IAAAA,GAAG,CAACM,UAAD,CAAH;AACH,CAPD,EAOG,UAASA,UAAT,EAAqB;AACtBA,EAAAA,UAAU,CAACC,YAAX,CAAwB,aAAxB,EAAuC,EAAvC,EAA2C,UAASC,EAAT,EAAaC,GAAb,EAAkBC,GAAlB,EAAuB;AAChE,QAAIC,IAAI,GAAGD,GAAG,IAAIA,GAAG,IAAIJ,UAAU,CAACM,IAApC;;AACA,QAAIH,GAAG,IAAI,CAACE,IAAZ,EAAkB;AAChBH,MAAAA,EAAE,CAACK,EAAH,CAAM,MAAN,EAAcC,MAAd;AACAN,MAAAA,EAAE,CAACK,EAAH,CAAM,QAAN,EAAgBE,QAAhB;AACAP,MAAAA,EAAE,CAACK,EAAH,CAAM,SAAN,EAAiBE,QAAjB;AACAT,MAAAA,UAAU,CAACO,EAAX,CAAcL,EAAE,CAACQ,aAAH,EAAd,EAAkC,mBAAlC,EAAuDR,EAAE,CAACS,KAAH,CAASC,kBAAT,GAA8B,YAAW;AAAEC,QAAAA,aAAa,CAACX,EAAD,CAAb;AAAmB,OAArH;AACAO,MAAAA,QAAQ,CAACP,EAAD,CAAR;AACD,KAND,MAMO,IAAI,CAACC,GAAD,IAAQE,IAAZ,EAAkB;AACvBH,MAAAA,EAAE,CAACY,GAAH,CAAO,MAAP,EAAeN,MAAf;AACAN,MAAAA,EAAE,CAACY,GAAH,CAAO,QAAP,EAAiBL,QAAjB;AACAP,MAAAA,EAAE,CAACY,GAAH,CAAO,SAAP,EAAkBL,QAAlB;AACAT,MAAAA,UAAU,CAACc,GAAX,CAAeZ,EAAE,CAACQ,aAAH,EAAf,EAAmC,mBAAnC,EAAwDR,EAAE,CAACS,KAAH,CAASC,kBAAjE;AACAG,MAAAA,gBAAgB,CAACb,EAAD,CAAhB;AACA,UAAIc,OAAO,GAAGd,EAAE,CAACe,iBAAH,EAAd;AACAD,MAAAA,OAAO,CAACE,SAAR,GAAoBF,OAAO,CAACE,SAAR,CAAkBC,OAAlB,CAA0B,mBAA1B,EAA+C,EAA/C,CAApB;AACD;;AAED,QAAIhB,GAAG,IAAI,CAACD,EAAE,CAACkB,QAAH,EAAZ,EAA2BZ,MAAM,CAACN,EAAD,CAAN;AAC5B,GAnBD;;AAqBA,WAASa,gBAAT,CAA0Bb,EAA1B,EAA8B;AAC5B,QAAIA,EAAE,CAACS,KAAH,CAASU,WAAb,EAA0B;AACxBnB,MAAAA,EAAE,CAACS,KAAH,CAASU,WAAT,CAAqBC,UAArB,CAAgCC,WAAhC,CAA4CrB,EAAE,CAACS,KAAH,CAASU,WAArD;AACAnB,MAAAA,EAAE,CAACS,KAAH,CAASU,WAAT,GAAuB,IAAvB;AACD;AACF;;AACD,WAASG,cAAT,CAAwBtB,EAAxB,EAA4B;AAC1Ba,IAAAA,gBAAgB,CAACb,EAAD,CAAhB;AACA,QAAIuB,GAAG,GAAGvB,EAAE,CAACS,KAAH,CAASU,WAAT,GAAuBK,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjC;AACAF,IAAAA,GAAG,CAACG,KAAJ,CAAUC,OAAV,GAAoB,8BAApB;AACAJ,IAAAA,GAAG,CAACG,KAAJ,CAAUE,SAAV,GAAsB5B,EAAE,CAAC6B,SAAH,CAAa,WAAb,CAAtB;AACAN,IAAAA,GAAG,CAACP,SAAJ,GAAgB,6CAAhB;AACA,QAAIc,WAAW,GAAG9B,EAAE,CAAC6B,SAAH,CAAa,aAAb,CAAlB;AACA,QAAI,OAAOC,WAAP,IAAsB,QAA1B,EAAoCA,WAAW,GAAGN,QAAQ,CAACO,cAAT,CAAwBD,WAAxB,CAAd;AACpCP,IAAAA,GAAG,CAACS,WAAJ,CAAgBF,WAAhB;AACA9B,IAAAA,EAAE,CAACiC,OAAH,CAAWC,SAAX,CAAqBC,YAArB,CAAkCZ,GAAlC,EAAuCvB,EAAE,CAACiC,OAAH,CAAWC,SAAX,CAAqBE,UAA5D;AACD;;AAED,WAASzB,aAAT,CAAuBX,EAAvB,EAA2B;AACzBqC,IAAAA,UAAU,CAAC,YAAW;AACpB,UAAIC,KAAK,GAAG,KAAZ;;AACA,UAAItC,EAAE,CAACuC,SAAH,MAAkB,CAAtB,EAAyB;AACvB,YAAIC,KAAK,GAAGxC,EAAE,CAACQ,aAAH,EAAZ;AACA8B,QAAAA,KAAK,GAAGE,KAAK,CAACC,QAAN,IAAkB,UAAlB,GAA+B,CAACzC,EAAE,CAAC0C,OAAH,CAAW,CAAX,EAAcC,MAA9C,GACJ,CAAC,YAAYC,IAAZ,CAAiBJ,KAAK,CAACK,aAAN,CAAoB,kBAApB,EAAwCC,WAAzD,CADL;AAED;;AACD,UAAIR,KAAJ,EAAWhB,cAAc,CAACtB,EAAD,CAAd,CAAX,KACKa,gBAAgB,CAACb,EAAD,CAAhB;AACN,KATS,EASP,EATO,CAAV;AAUD;;AAED,WAASM,MAAT,CAAgBN,EAAhB,EAAoB;AAClB,QAAI+C,OAAO,CAAC/C,EAAD,CAAX,EAAiBsB,cAAc,CAACtB,EAAD,CAAd;AAClB;;AACD,WAASO,QAAT,CAAkBP,EAAlB,EAAsB;AACpB,QAAIc,OAAO,GAAGd,EAAE,CAACe,iBAAH,EAAd;AAAA,QAAsCuB,KAAK,GAAGS,OAAO,CAAC/C,EAAD,CAArD;AACAc,IAAAA,OAAO,CAACE,SAAR,GAAoBF,OAAO,CAACE,SAAR,CAAkBC,OAAlB,CAA0B,mBAA1B,EAA+C,EAA/C,KAAsDqB,KAAK,GAAG,mBAAH,GAAyB,EAApF,CAApB;AAEA,QAAIA,KAAJ,EAAWhB,cAAc,CAACtB,EAAD,CAAd,CAAX,KACKa,gBAAgB,CAACb,EAAD,CAAhB;AACN;;AAED,WAAS+C,OAAT,CAAiB/C,EAAjB,EAAqB;AACnB,WAAQA,EAAE,CAACuC,SAAH,OAAmB,CAApB,IAA2BvC,EAAE,CAAC0C,OAAH,CAAW,CAAX,MAAkB,EAApD;AACD;AACF,CA1ED","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  CodeMirror.defineOption(\"placeholder\", \"\", function(cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n    if (val && !prev) {\n      cm.on(\"blur\", onBlur);\n      cm.on(\"change\", onChange);\n      cm.on(\"swapDoc\", onChange);\n      CodeMirror.on(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose = function() { onComposition(cm) })\n      onChange(cm);\n    } else if (!val && prev) {\n      cm.off(\"blur\", onBlur);\n      cm.off(\"change\", onChange);\n      cm.off(\"swapDoc\", onChange);\n      CodeMirror.off(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose)\n      clearPlaceholder(cm);\n      var wrapper = cm.getWrapperElement();\n      wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\");\n    }\n\n    if (val && !cm.hasFocus()) onBlur(cm);\n  });\n\n  function clearPlaceholder(cm) {\n    if (cm.state.placeholder) {\n      cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);\n      cm.state.placeholder = null;\n    }\n  }\n  function setPlaceholder(cm) {\n    clearPlaceholder(cm);\n    var elt = cm.state.placeholder = document.createElement(\"pre\");\n    elt.style.cssText = \"height: 0; overflow: visible\";\n    elt.style.direction = cm.getOption(\"direction\");\n    elt.className = \"CodeMirror-placeholder CodeMirror-line-like\";\n    var placeHolder = cm.getOption(\"placeholder\")\n    if (typeof placeHolder == \"string\") placeHolder = document.createTextNode(placeHolder)\n    elt.appendChild(placeHolder)\n    cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild);\n  }\n\n  function onComposition(cm) {\n    setTimeout(function() {\n      var empty = false\n      if (cm.lineCount() == 1) {\n        var input = cm.getInputField()\n        empty = input.nodeName == \"TEXTAREA\" ? !cm.getLine(0).length\n          : !/[^\\u200b]/.test(input.querySelector(\".CodeMirror-line\").textContent)\n      }\n      if (empty) setPlaceholder(cm)\n      else clearPlaceholder(cm)\n    }, 20)\n  }\n\n  function onBlur(cm) {\n    if (isEmpty(cm)) setPlaceholder(cm);\n  }\n  function onChange(cm) {\n    var wrapper = cm.getWrapperElement(), empty = isEmpty(cm);\n    wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\") + (empty ? \" CodeMirror-empty\" : \"\");\n\n    if (empty) setPlaceholder(cm);\n    else clearPlaceholder(cm);\n  }\n\n  function isEmpty(cm) {\n    return (cm.lineCount() === 1) && (cm.getLine(0) === \"\");\n  }\n});\n"]},"metadata":{},"sourceType":"script"}