{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @preventMunge\n * @emails oncall+draft_js\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _extends() {\n  _extends = _assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar DefaultDraftBlockRenderMap = require(\"./DefaultDraftBlockRenderMap\");\n\nvar DefaultDraftInlineStyle = require(\"./DefaultDraftInlineStyle\");\n\nvar DraftEditorCompositionHandler = require(\"./DraftEditorCompositionHandler\");\n\nvar DraftEditorContents = require(\"./DraftEditorContents.react\");\n\nvar DraftEditorDragHandler = require(\"./DraftEditorDragHandler\");\n\nvar DraftEditorEditHandler = require(\"./DraftEditorEditHandler\");\n\nvar flushControlled = require(\"./DraftEditorFlushControlled\");\n\nvar DraftEditorPlaceholder = require(\"./DraftEditorPlaceholder.react\");\n\nvar DraftEffects = require(\"./DraftEffects\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar React = require(\"react\");\n\nvar Scroll = require(\"fbjs/lib/Scroll\");\n\nvar Style = require(\"fbjs/lib/Style\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar getDefaultKeyBinding = require(\"./getDefaultKeyBinding\");\n\nvar getScrollPosition = require(\"fbjs/lib/getScrollPosition\");\n\nvar gkx = require(\"./gkx\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isHTMLElement = require(\"./isHTMLElement\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar isIE = UserAgent.isBrowser('IE'); // IE does not support the `input` event on contentEditable, so we can't\n// observe spellcheck behavior.\n\nvar allowSpellCheck = !isIE; // Define a set of handler objects to correspond to each possible `mode`\n// of editor behavior.\n\nvar handlerMap = {\n  edit: DraftEditorEditHandler,\n  composite: DraftEditorCompositionHandler,\n  drag: DraftEditorDragHandler,\n  cut: null,\n  render: null\n};\nvar didInitODS = false;\n\nvar UpdateDraftEditorFlags = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(UpdateDraftEditorFlags, _React$Component);\n\n  function UpdateDraftEditorFlags() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = UpdateDraftEditorFlags.prototype;\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._update();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this._update();\n  };\n\n  _proto._update = function _update() {\n    var editor = this.props.editor;\n    /**\n     * Sometimes a render triggers a 'focus' or other event, and that will\n     * schedule a second render pass.\n     * In order to make sure the second render pass gets the latest editor\n     * state, we update it here.\n     * Example:\n     * render #1\n     * +\n     * |\n     * | cWU -> Nothing ... latestEditorState = STALE_STATE :(\n     * |\n     * | render -> this.props.editorState = FRESH_STATE\n     * | +         *and* set latestEditorState = FRESH_STATE\n     *   |\n     * | |\n     * | +--> triggers 'focus' event, calling 'handleFocus' with latestEditorState\n     * |                                                +\n     * |                                                |\n     * +>cdU -> latestEditorState = FRESH_STATE         | the 'handleFocus' call schedules render #2\n     *                                                  | with latestEditorState, which is FRESH_STATE\n     *                                                  |\n     * render #2 <--------------------------------------+\n     * +\n     * |\n     * | cwU -> nothing updates\n     * |\n     * | render -> this.props.editorState = FRESH_STATE which was passed in above\n     * |\n     * +>cdU fires and resets latestEditorState = FRESH_STATE\n     * ---\n     * Note that if we don't set latestEditorState in 'render' in the above\n     * diagram, then STALE_STATE gets passed to render #2.\n     */\n\n    editor._latestEditorState = this.props.editorState;\n    /**\n     * The reason we set this 'blockSelectEvents' flag is that  IE will fire a\n     * 'selectionChange' event when we programmatically change the selection,\n     * meaning it would trigger a new select event while we are in the middle\n     * of updating.\n     * We found that the 'selection.addRange' was what triggered the stray\n     * selectionchange event in IE.\n     * To be clear - we have not been able to reproduce specific bugs related\n     * to this stray selection event, but have recorded logs that some\n     * conditions do cause it to get bumped into during editOnSelect.\n     */\n\n    editor._blockSelectEvents = true;\n  };\n\n  return UpdateDraftEditorFlags;\n}(React.Component);\n/**\n * `DraftEditor` is the root editor component. It composes a `contentEditable`\n * div, and provides a wide variety of useful function props for managing the\n * state of the editor. See `DraftEditorProps` for details.\n */\n\n\nvar DraftEditor = /*#__PURE__*/function (_React$Component2) {\n  _inheritsLoose(DraftEditor, _React$Component2);\n  /**\n   * Define proxies that can route events to the current handler.\n   */\n\n\n  function DraftEditor(props) {\n    var _this;\n\n    _this = _React$Component2.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"_blockSelectEvents\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_clipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_handler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_dragCount\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_internalDrag\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_editorKey\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_placeholderAccessibilityID\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_latestEditorState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_latestCommittedEditorState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_pendingStateFromBeforeInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onBeforeInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onBlur\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCharacterData\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCompositionEnd\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCompositionStart\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCopy\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCut\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragEnd\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragOver\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragStart\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDrop\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onFocus\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyDown\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyPress\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyUp\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseDown\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseUp\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onPaste\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onSelect\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"editor\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"editorContainer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"focus\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"blur\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setMode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"exitCurrentMode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"restoreEditorDOM\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setClipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"getClipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"getEditorKey\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"update\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnter\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragLeave\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleEditorContainerRef\", function (node) {\n      _this.editorContainer = node; // Instead of having a direct ref on the child, we'll grab it here.\n      // This is safe as long as the rendered structure is static (which it is).\n      // This lets the child support ref={props.editorRef} without merging refs.\n\n      _this.editor = node !== null ? node.firstChild : null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focus\", function (scrollPosition) {\n      var editorState = _this.props.editorState;\n      var alreadyHasFocus = editorState.getSelection().getHasFocus();\n      var editorNode = _this.editor;\n\n      if (!editorNode) {\n        // once in a while people call 'focus' in a setTimeout, and the node has\n        // been deleted, so it can be null in that case.\n        return;\n      }\n\n      var scrollParent = Style.getScrollParent(editorNode);\n\n      var _ref = scrollPosition || getScrollPosition(scrollParent),\n          x = _ref.x,\n          y = _ref.y;\n\n      !isHTMLElement(editorNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'editorNode is not an HTMLElement') : invariant(false) : void 0;\n      editorNode.focus(); // Restore scroll position\n\n      if (scrollParent === window) {\n        window.scrollTo(x, y);\n      } else {\n        Scroll.setTop(scrollParent, y);\n      } // On Chrome and Safari, calling focus on contenteditable focuses the\n      // cursor at the first character. This is something you don't expect when\n      // you're clicking on an input element but not directly on a character.\n      // Put the cursor back where it was before the blur.\n\n\n      if (!alreadyHasFocus) {\n        _this.update(EditorState.forceSelection(editorState, editorState.getSelection()));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"blur\", function () {\n      var editorNode = _this.editor;\n\n      if (!editorNode) {\n        return;\n      }\n\n      !isHTMLElement(editorNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'editorNode is not an HTMLElement') : invariant(false) : void 0;\n      editorNode.blur();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setMode\", function (mode) {\n      var _this$props = _this.props,\n          onPaste = _this$props.onPaste,\n          onCut = _this$props.onCut,\n          onCopy = _this$props.onCopy;\n\n      var editHandler = _objectSpread({}, handlerMap.edit);\n\n      if (onPaste) {\n        /* $FlowFixMe[incompatible-type] (>=0.117.0 site=www,mobile) This comment\n         * suppresses an error found when Flow v0.117 was deployed. To see the\n         * error delete this comment and run Flow. */\n        editHandler.onPaste = onPaste;\n      }\n\n      if (onCut) {\n        editHandler.onCut = onCut;\n      }\n\n      if (onCopy) {\n        editHandler.onCopy = onCopy;\n      }\n\n      var handler = _objectSpread({}, handlerMap, {\n        edit: editHandler\n      });\n\n      _this._handler = handler[mode];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"exitCurrentMode\", function () {\n      _this.setMode('edit');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"restoreEditorDOM\", function (scrollPosition) {\n      _this.setState({\n        contentsKey: _this.state.contentsKey + 1\n      }, function () {\n        _this.focus(scrollPosition);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setClipboard\", function (clipboard) {\n      _this._clipboard = clipboard;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getClipboard\", function () {\n      return _this._clipboard;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"update\", function (editorState) {\n      _this._latestEditorState = editorState;\n\n      _this.props.onChange(editorState);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnter\", function () {\n      _this._dragCount++;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragLeave\", function () {\n      _this._dragCount--;\n\n      if (_this._dragCount === 0) {\n        _this.exitCurrentMode();\n      }\n    });\n\n    _this._blockSelectEvents = false;\n    _this._clipboard = null;\n    _this._handler = null;\n    _this._dragCount = 0;\n    _this._editorKey = props.editorKey || generateRandomKey();\n    _this._placeholderAccessibilityID = 'placeholder-' + _this._editorKey;\n    _this._latestEditorState = props.editorState;\n    _this._latestCommittedEditorState = props.editorState;\n    _this._onBeforeInput = _this._buildHandler('onBeforeInput');\n    _this._onBlur = _this._buildHandler('onBlur');\n    _this._onCharacterData = _this._buildHandler('onCharacterData');\n    _this._onCompositionEnd = _this._buildHandler('onCompositionEnd');\n    _this._onCompositionStart = _this._buildHandler('onCompositionStart');\n    _this._onCopy = _this._buildHandler('onCopy');\n    _this._onCut = _this._buildHandler('onCut');\n    _this._onDragEnd = _this._buildHandler('onDragEnd');\n    _this._onDragOver = _this._buildHandler('onDragOver');\n    _this._onDragStart = _this._buildHandler('onDragStart');\n    _this._onDrop = _this._buildHandler('onDrop');\n    _this._onInput = _this._buildHandler('onInput');\n    _this._onFocus = _this._buildHandler('onFocus');\n    _this._onKeyDown = _this._buildHandler('onKeyDown');\n    _this._onKeyPress = _this._buildHandler('onKeyPress');\n    _this._onKeyUp = _this._buildHandler('onKeyUp');\n    _this._onMouseDown = _this._buildHandler('onMouseDown');\n    _this._onMouseUp = _this._buildHandler('onMouseUp');\n    _this._onPaste = _this._buildHandler('onPaste');\n    _this._onSelect = _this._buildHandler('onSelect');\n\n    _this.getEditorKey = function () {\n      return _this._editorKey;\n    };\n\n    if (process.env.NODE_ENV !== \"production\") {\n      ['onDownArrow', 'onEscape', 'onLeftArrow', 'onRightArrow', 'onTab', 'onUpArrow'].forEach(function (propName) {\n        if (props.hasOwnProperty(propName)) {\n          // eslint-disable-next-line no-console\n          console.warn(\"Supplying an `\".concat(propName, \"` prop to `DraftEditor` has \") + 'been deprecated. If your handler needs access to the keyboard ' + 'event, supply a custom `keyBindingFn` prop that falls back to ' + 'the default one (eg. https://is.gd/wHKQ3W).');\n        }\n      });\n    } // See `restoreEditorDOM()`.\n\n\n    _this.state = {\n      contentsKey: 0\n    };\n    return _this;\n  }\n  /**\n   * Build a method that will pass the event to the specified handler method.\n   * This allows us to look up the correct handler function for the current\n   * editor mode, if any has been specified.\n   */\n\n\n  var _proto2 = DraftEditor.prototype;\n\n  _proto2._buildHandler = function _buildHandler(eventName) {\n    var _this2 = this; // Wrap event handlers in `flushControlled`. In sync mode, this is\n    // effectively a no-op. In async mode, this ensures all updates scheduled\n    // inside the handler are flushed before React yields to the browser.\n\n\n    return function (e) {\n      if (!_this2.props.readOnly) {\n        var method = _this2._handler && _this2._handler[eventName];\n\n        if (method) {\n          if (flushControlled) {\n            flushControlled(function () {\n              return method(_this2, e);\n            });\n          } else {\n            method(_this2, e);\n          }\n        }\n      }\n    };\n  };\n\n  _proto2._showPlaceholder = function _showPlaceholder() {\n    return !!this.props.placeholder && !this.props.editorState.isInCompositionMode() && !this.props.editorState.getCurrentContent().hasText();\n  };\n\n  _proto2._renderPlaceholder = function _renderPlaceholder() {\n    if (this._showPlaceholder()) {\n      var placeHolderProps = {\n        text: nullthrows(this.props.placeholder),\n        editorState: this.props.editorState,\n        textAlignment: this.props.textAlignment,\n        accessibilityID: this._placeholderAccessibilityID\n      };\n      /* $FlowFixMe[incompatible-type] (>=0.112.0 site=www,mobile) This comment\n       * suppresses an error found when Flow v0.112 was deployed. To see the\n       * error delete this comment and run Flow. */\n\n      return React.createElement(DraftEditorPlaceholder, placeHolderProps);\n    }\n\n    return null;\n  }\n  /**\n   * returns ariaDescribedBy prop with '{{editor_id_placeholder}}' replaced with\n   * the DOM id of the placeholder (if it exists)\n   * @returns aria-describedby attribute value\n   */\n  ;\n\n  _proto2._renderARIADescribedBy = function _renderARIADescribedBy() {\n    var describedBy = this.props.ariaDescribedBy || '';\n    var placeholderID = this._showPlaceholder() ? this._placeholderAccessibilityID : '';\n    return describedBy.replace('{{editor_id_placeholder}}', placeholderID) || undefined;\n  };\n\n  _proto2.render = function render() {\n    var _this$props2 = this.props,\n        blockRenderMap = _this$props2.blockRenderMap,\n        blockRendererFn = _this$props2.blockRendererFn,\n        blockStyleFn = _this$props2.blockStyleFn,\n        customStyleFn = _this$props2.customStyleFn,\n        customStyleMap = _this$props2.customStyleMap,\n        editorState = _this$props2.editorState,\n        preventScroll = _this$props2.preventScroll,\n        readOnly = _this$props2.readOnly,\n        textAlignment = _this$props2.textAlignment,\n        textDirectionality = _this$props2.textDirectionality;\n    var rootClass = cx({\n      'DraftEditor/root': true,\n      'DraftEditor/alignLeft': textAlignment === 'left',\n      'DraftEditor/alignRight': textAlignment === 'right',\n      'DraftEditor/alignCenter': textAlignment === 'center'\n    });\n    var contentStyle = {\n      outline: 'none',\n      // fix parent-draggable Safari bug. #1326\n      userSelect: 'text',\n      WebkitUserSelect: 'text',\n      whiteSpace: 'pre-wrap',\n      wordWrap: 'break-word'\n    }; // The aria-expanded and aria-haspopup properties should only be rendered\n    // for a combobox.\n\n    /* $FlowFixMe[prop-missing] (>=0.68.0 site=www,mobile) This comment\n     * suppresses an error found when Flow v0.68 was deployed. To see the error\n     * delete this comment and run Flow. */\n\n    var ariaRole = this.props.role || 'textbox';\n    var ariaExpanded = ariaRole === 'combobox' ? !!this.props.ariaExpanded : null;\n    var editorContentsProps = {\n      blockRenderMap: blockRenderMap,\n      blockRendererFn: blockRendererFn,\n      blockStyleFn: blockStyleFn,\n      customStyleMap: _objectSpread({}, DefaultDraftInlineStyle, customStyleMap),\n      customStyleFn: customStyleFn,\n      editorKey: this._editorKey,\n      editorState: editorState,\n      preventScroll: preventScroll,\n      textDirectionality: textDirectionality\n    };\n    return React.createElement(\"div\", {\n      className: rootClass\n    }, this._renderPlaceholder(), React.createElement(\"div\", {\n      className: cx('DraftEditor/editorContainer'),\n      ref: this._handleEditorContainerRef\n    }, React.createElement(\"div\", {\n      \"aria-activedescendant\": readOnly ? null : this.props.ariaActiveDescendantID,\n      \"aria-autocomplete\": readOnly ? null : this.props.ariaAutoComplete,\n      \"aria-controls\": readOnly ? null : this.props.ariaControls,\n      \"aria-describedby\": this._renderARIADescribedBy(),\n      \"aria-expanded\": readOnly ? null : ariaExpanded,\n      \"aria-label\": this.props.ariaLabel,\n      \"aria-labelledby\": this.props.ariaLabelledBy,\n      \"aria-multiline\": this.props.ariaMultiline,\n      \"aria-owns\": readOnly ? null : this.props.ariaOwneeID,\n      autoCapitalize: this.props.autoCapitalize,\n      autoComplete: this.props.autoComplete,\n      autoCorrect: this.props.autoCorrect,\n      className: cx({\n        // Chrome's built-in translation feature mutates the DOM in ways\n        // that Draft doesn't expect (ex: adding <font> tags inside\n        // DraftEditorLeaf spans) and causes problems. We add notranslate\n        // here which makes its autotranslation skip over this subtree.\n        notranslate: !readOnly,\n        'public/DraftEditor/content': true\n      }),\n      contentEditable: !readOnly,\n      \"data-testid\": this.props.webDriverTestID,\n      onBeforeInput: this._onBeforeInput,\n      onBlur: this._onBlur,\n      onCompositionEnd: this._onCompositionEnd,\n      onCompositionStart: this._onCompositionStart,\n      onCopy: this._onCopy,\n      onCut: this._onCut,\n      onDragEnd: this._onDragEnd,\n      onDragEnter: this.onDragEnter,\n      onDragLeave: this.onDragLeave,\n      onDragOver: this._onDragOver,\n      onDragStart: this._onDragStart,\n      onDrop: this._onDrop,\n      onFocus: this._onFocus,\n      onInput: this._onInput,\n      onKeyDown: this._onKeyDown,\n      onKeyPress: this._onKeyPress,\n      onKeyUp: this._onKeyUp,\n      onMouseUp: this._onMouseUp,\n      onPaste: this._onPaste,\n      onSelect: this._onSelect,\n      ref: this.props.editorRef,\n      role: readOnly ? null : ariaRole,\n      spellCheck: allowSpellCheck && this.props.spellCheck,\n      style: contentStyle,\n      suppressContentEditableWarning: true,\n      tabIndex: this.props.tabIndex\n    }, React.createElement(UpdateDraftEditorFlags, {\n      editor: this,\n      editorState: editorState\n    }), React.createElement(DraftEditorContents, _extends({}, editorContentsProps, {\n      key: 'contents' + this.state.contentsKey\n    })))));\n  };\n\n  _proto2.componentDidMount = function componentDidMount() {\n    this._blockSelectEvents = false;\n\n    if (!didInitODS && gkx('draft_ods_enabled')) {\n      didInitODS = true;\n      DraftEffects.initODS();\n    }\n\n    this.setMode('edit');\n    /**\n     * IE has a hardcoded \"feature\" that attempts to convert link text into\n     * anchors in contentEditable DOM. This breaks the editor's expectations of\n     * the DOM, and control is lost. Disable it to make IE behave.\n     * See: http://blogs.msdn.com/b/ieinternals/archive/2010/09/15/\n     * ie9-beta-minor-change-list.aspx\n     */\n\n    if (isIE) {\n      // editor can be null after mounting\n      // https://stackoverflow.com/questions/44074747/componentdidmount-called-before-ref-callback\n      if (!this.editor) {\n        global.execCommand('AutoUrlDetect', false, false);\n      } else {\n        this.editor.ownerDocument.execCommand('AutoUrlDetect', false, false);\n      }\n    }\n  };\n\n  _proto2.componentDidUpdate = function componentDidUpdate() {\n    this._blockSelectEvents = false;\n    this._latestEditorState = this.props.editorState;\n    this._latestCommittedEditorState = this.props.editorState;\n  }\n  /**\n   * Used via `this.focus()`.\n   *\n   * Force focus back onto the editor node.\n   *\n   * We attempt to preserve scroll position when focusing. You can also pass\n   * a specified scroll position (for cases like `cut` behavior where it should\n   * be restored to a known position).\n   */\n  ;\n\n  return DraftEditor;\n}(React.Component);\n\n_defineProperty(DraftEditor, \"defaultProps\", {\n  ariaDescribedBy: '{{editor_id_placeholder}}',\n  blockRenderMap: DefaultDraftBlockRenderMap,\n  blockRendererFn: function blockRendererFn() {\n    return null;\n  },\n  blockStyleFn: function blockStyleFn() {\n    return '';\n  },\n  keyBindingFn: getDefaultKeyBinding,\n  readOnly: false,\n  spellCheck: false,\n  stripPastedStyles: false\n});\n\nmodule.exports = DraftEditor;","map":{"version":3,"sources":["D:/workspace/flying-assess/flyingcarpet-shared-inbox/node_modules/draft-js/lib/DraftEditor.react.js"],"names":["_assign","require","_extends","target","i","arguments","length","source","key","Object","prototype","hasOwnProperty","call","apply","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","_defineProperty","_assertThisInitialized","self","ReferenceError","obj","value","defineProperty","configurable","writable","_inheritsLoose","subClass","superClass","create","constructor","__proto__","DefaultDraftBlockRenderMap","DefaultDraftInlineStyle","DraftEditorCompositionHandler","DraftEditorContents","DraftEditorDragHandler","DraftEditorEditHandler","flushControlled","DraftEditorPlaceholder","DraftEffects","EditorState","React","Scroll","Style","UserAgent","cx","generateRandomKey","getDefaultKeyBinding","getScrollPosition","gkx","invariant","isHTMLElement","nullthrows","isIE","isBrowser","allowSpellCheck","handlerMap","edit","composite","drag","cut","render","didInitODS","UpdateDraftEditorFlags","_React$Component","_proto","componentDidMount","_update","componentDidUpdate","editor","props","_latestEditorState","editorState","_blockSelectEvents","Component","DraftEditor","_React$Component2","_this","node","editorContainer","firstChild","scrollPosition","alreadyHasFocus","getSelection","getHasFocus","editorNode","scrollParent","getScrollParent","_ref","x","y","process","env","NODE_ENV","focus","window","scrollTo","setTop","update","forceSelection","blur","mode","_this$props","onPaste","onCut","onCopy","editHandler","handler","_handler","setMode","setState","contentsKey","state","clipboard","_clipboard","onChange","_dragCount","exitCurrentMode","_editorKey","editorKey","_placeholderAccessibilityID","_latestCommittedEditorState","_onBeforeInput","_buildHandler","_onBlur","_onCharacterData","_onCompositionEnd","_onCompositionStart","_onCopy","_onCut","_onDragEnd","_onDragOver","_onDragStart","_onDrop","_onInput","_onFocus","_onKeyDown","_onKeyPress","_onKeyUp","_onMouseDown","_onMouseUp","_onPaste","_onSelect","getEditorKey","propName","console","warn","_proto2","eventName","_this2","e","readOnly","method","_showPlaceholder","placeholder","isInCompositionMode","getCurrentContent","hasText","_renderPlaceholder","placeHolderProps","text","textAlignment","accessibilityID","createElement","_renderARIADescribedBy","describedBy","ariaDescribedBy","placeholderID","replace","undefined","_this$props2","blockRenderMap","blockRendererFn","blockStyleFn","customStyleFn","customStyleMap","preventScroll","textDirectionality","rootClass","contentStyle","outline","userSelect","WebkitUserSelect","whiteSpace","wordWrap","ariaRole","role","ariaExpanded","editorContentsProps","className","ref","_handleEditorContainerRef","ariaActiveDescendantID","ariaAutoComplete","ariaControls","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwneeID","autoCapitalize","autoComplete","autoCorrect","notranslate","contentEditable","webDriverTestID","onBeforeInput","onBlur","onCompositionEnd","onCompositionStart","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDragStart","onDrop","onFocus","onInput","onKeyDown","onKeyPress","onKeyUp","onMouseUp","onSelect","editorRef","spellCheck","style","suppressContentEditableWarning","tabIndex","initODS","global","execCommand","ownerDocument","keyBindingFn","stripPastedStyles","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @preventMunge\n * @emails oncall+draft_js\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _extends() { _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar DefaultDraftBlockRenderMap = require(\"./DefaultDraftBlockRenderMap\");\n\nvar DefaultDraftInlineStyle = require(\"./DefaultDraftInlineStyle\");\n\nvar DraftEditorCompositionHandler = require(\"./DraftEditorCompositionHandler\");\n\nvar DraftEditorContents = require(\"./DraftEditorContents.react\");\n\nvar DraftEditorDragHandler = require(\"./DraftEditorDragHandler\");\n\nvar DraftEditorEditHandler = require(\"./DraftEditorEditHandler\");\n\nvar flushControlled = require(\"./DraftEditorFlushControlled\");\n\nvar DraftEditorPlaceholder = require(\"./DraftEditorPlaceholder.react\");\n\nvar DraftEffects = require(\"./DraftEffects\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar React = require(\"react\");\n\nvar Scroll = require(\"fbjs/lib/Scroll\");\n\nvar Style = require(\"fbjs/lib/Style\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar getDefaultKeyBinding = require(\"./getDefaultKeyBinding\");\n\nvar getScrollPosition = require(\"fbjs/lib/getScrollPosition\");\n\nvar gkx = require(\"./gkx\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isHTMLElement = require(\"./isHTMLElement\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar isIE = UserAgent.isBrowser('IE'); // IE does not support the `input` event on contentEditable, so we can't\n// observe spellcheck behavior.\n\nvar allowSpellCheck = !isIE; // Define a set of handler objects to correspond to each possible `mode`\n// of editor behavior.\n\nvar handlerMap = {\n  edit: DraftEditorEditHandler,\n  composite: DraftEditorCompositionHandler,\n  drag: DraftEditorDragHandler,\n  cut: null,\n  render: null\n};\nvar didInitODS = false;\n\nvar UpdateDraftEditorFlags = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(UpdateDraftEditorFlags, _React$Component);\n\n  function UpdateDraftEditorFlags() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = UpdateDraftEditorFlags.prototype;\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._update();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this._update();\n  };\n\n  _proto._update = function _update() {\n    var editor = this.props.editor;\n    /**\n     * Sometimes a render triggers a 'focus' or other event, and that will\n     * schedule a second render pass.\n     * In order to make sure the second render pass gets the latest editor\n     * state, we update it here.\n     * Example:\n     * render #1\n     * +\n     * |\n     * | cWU -> Nothing ... latestEditorState = STALE_STATE :(\n     * |\n     * | render -> this.props.editorState = FRESH_STATE\n     * | +         *and* set latestEditorState = FRESH_STATE\n     *   |\n     * | |\n     * | +--> triggers 'focus' event, calling 'handleFocus' with latestEditorState\n     * |                                                +\n     * |                                                |\n     * +>cdU -> latestEditorState = FRESH_STATE         | the 'handleFocus' call schedules render #2\n     *                                                  | with latestEditorState, which is FRESH_STATE\n     *                                                  |\n     * render #2 <--------------------------------------+\n     * +\n     * |\n     * | cwU -> nothing updates\n     * |\n     * | render -> this.props.editorState = FRESH_STATE which was passed in above\n     * |\n     * +>cdU fires and resets latestEditorState = FRESH_STATE\n     * ---\n     * Note that if we don't set latestEditorState in 'render' in the above\n     * diagram, then STALE_STATE gets passed to render #2.\n     */\n\n    editor._latestEditorState = this.props.editorState;\n    /**\n     * The reason we set this 'blockSelectEvents' flag is that  IE will fire a\n     * 'selectionChange' event when we programmatically change the selection,\n     * meaning it would trigger a new select event while we are in the middle\n     * of updating.\n     * We found that the 'selection.addRange' was what triggered the stray\n     * selectionchange event in IE.\n     * To be clear - we have not been able to reproduce specific bugs related\n     * to this stray selection event, but have recorded logs that some\n     * conditions do cause it to get bumped into during editOnSelect.\n     */\n\n    editor._blockSelectEvents = true;\n  };\n\n  return UpdateDraftEditorFlags;\n}(React.Component);\n/**\n * `DraftEditor` is the root editor component. It composes a `contentEditable`\n * div, and provides a wide variety of useful function props for managing the\n * state of the editor. See `DraftEditorProps` for details.\n */\n\n\nvar DraftEditor = /*#__PURE__*/function (_React$Component2) {\n  _inheritsLoose(DraftEditor, _React$Component2);\n\n  /**\n   * Define proxies that can route events to the current handler.\n   */\n  function DraftEditor(props) {\n    var _this;\n\n    _this = _React$Component2.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"_blockSelectEvents\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_clipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_handler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_dragCount\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_internalDrag\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_editorKey\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_placeholderAccessibilityID\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_latestEditorState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_latestCommittedEditorState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_pendingStateFromBeforeInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onBeforeInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onBlur\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCharacterData\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCompositionEnd\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCompositionStart\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCopy\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCut\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragEnd\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragOver\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragStart\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDrop\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onFocus\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyDown\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyPress\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyUp\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseDown\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseUp\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onPaste\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onSelect\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"editor\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"editorContainer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"focus\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"blur\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setMode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"exitCurrentMode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"restoreEditorDOM\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setClipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"getClipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"getEditorKey\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"update\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnter\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragLeave\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleEditorContainerRef\", function (node) {\n      _this.editorContainer = node; // Instead of having a direct ref on the child, we'll grab it here.\n      // This is safe as long as the rendered structure is static (which it is).\n      // This lets the child support ref={props.editorRef} without merging refs.\n\n      _this.editor = node !== null ? node.firstChild : null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focus\", function (scrollPosition) {\n      var editorState = _this.props.editorState;\n      var alreadyHasFocus = editorState.getSelection().getHasFocus();\n      var editorNode = _this.editor;\n\n      if (!editorNode) {\n        // once in a while people call 'focus' in a setTimeout, and the node has\n        // been deleted, so it can be null in that case.\n        return;\n      }\n\n      var scrollParent = Style.getScrollParent(editorNode);\n\n      var _ref = scrollPosition || getScrollPosition(scrollParent),\n          x = _ref.x,\n          y = _ref.y;\n\n      !isHTMLElement(editorNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'editorNode is not an HTMLElement') : invariant(false) : void 0;\n      editorNode.focus(); // Restore scroll position\n\n      if (scrollParent === window) {\n        window.scrollTo(x, y);\n      } else {\n        Scroll.setTop(scrollParent, y);\n      } // On Chrome and Safari, calling focus on contenteditable focuses the\n      // cursor at the first character. This is something you don't expect when\n      // you're clicking on an input element but not directly on a character.\n      // Put the cursor back where it was before the blur.\n\n\n      if (!alreadyHasFocus) {\n        _this.update(EditorState.forceSelection(editorState, editorState.getSelection()));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"blur\", function () {\n      var editorNode = _this.editor;\n\n      if (!editorNode) {\n        return;\n      }\n\n      !isHTMLElement(editorNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'editorNode is not an HTMLElement') : invariant(false) : void 0;\n      editorNode.blur();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setMode\", function (mode) {\n      var _this$props = _this.props,\n          onPaste = _this$props.onPaste,\n          onCut = _this$props.onCut,\n          onCopy = _this$props.onCopy;\n\n      var editHandler = _objectSpread({}, handlerMap.edit);\n\n      if (onPaste) {\n        /* $FlowFixMe[incompatible-type] (>=0.117.0 site=www,mobile) This comment\n         * suppresses an error found when Flow v0.117 was deployed. To see the\n         * error delete this comment and run Flow. */\n        editHandler.onPaste = onPaste;\n      }\n\n      if (onCut) {\n        editHandler.onCut = onCut;\n      }\n\n      if (onCopy) {\n        editHandler.onCopy = onCopy;\n      }\n\n      var handler = _objectSpread({}, handlerMap, {\n        edit: editHandler\n      });\n\n      _this._handler = handler[mode];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"exitCurrentMode\", function () {\n      _this.setMode('edit');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"restoreEditorDOM\", function (scrollPosition) {\n      _this.setState({\n        contentsKey: _this.state.contentsKey + 1\n      }, function () {\n        _this.focus(scrollPosition);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setClipboard\", function (clipboard) {\n      _this._clipboard = clipboard;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getClipboard\", function () {\n      return _this._clipboard;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"update\", function (editorState) {\n      _this._latestEditorState = editorState;\n\n      _this.props.onChange(editorState);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnter\", function () {\n      _this._dragCount++;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragLeave\", function () {\n      _this._dragCount--;\n\n      if (_this._dragCount === 0) {\n        _this.exitCurrentMode();\n      }\n    });\n\n    _this._blockSelectEvents = false;\n    _this._clipboard = null;\n    _this._handler = null;\n    _this._dragCount = 0;\n    _this._editorKey = props.editorKey || generateRandomKey();\n    _this._placeholderAccessibilityID = 'placeholder-' + _this._editorKey;\n    _this._latestEditorState = props.editorState;\n    _this._latestCommittedEditorState = props.editorState;\n    _this._onBeforeInput = _this._buildHandler('onBeforeInput');\n    _this._onBlur = _this._buildHandler('onBlur');\n    _this._onCharacterData = _this._buildHandler('onCharacterData');\n    _this._onCompositionEnd = _this._buildHandler('onCompositionEnd');\n    _this._onCompositionStart = _this._buildHandler('onCompositionStart');\n    _this._onCopy = _this._buildHandler('onCopy');\n    _this._onCut = _this._buildHandler('onCut');\n    _this._onDragEnd = _this._buildHandler('onDragEnd');\n    _this._onDragOver = _this._buildHandler('onDragOver');\n    _this._onDragStart = _this._buildHandler('onDragStart');\n    _this._onDrop = _this._buildHandler('onDrop');\n    _this._onInput = _this._buildHandler('onInput');\n    _this._onFocus = _this._buildHandler('onFocus');\n    _this._onKeyDown = _this._buildHandler('onKeyDown');\n    _this._onKeyPress = _this._buildHandler('onKeyPress');\n    _this._onKeyUp = _this._buildHandler('onKeyUp');\n    _this._onMouseDown = _this._buildHandler('onMouseDown');\n    _this._onMouseUp = _this._buildHandler('onMouseUp');\n    _this._onPaste = _this._buildHandler('onPaste');\n    _this._onSelect = _this._buildHandler('onSelect');\n\n    _this.getEditorKey = function () {\n      return _this._editorKey;\n    };\n\n    if (process.env.NODE_ENV !== \"production\") {\n      ['onDownArrow', 'onEscape', 'onLeftArrow', 'onRightArrow', 'onTab', 'onUpArrow'].forEach(function (propName) {\n        if (props.hasOwnProperty(propName)) {\n          // eslint-disable-next-line no-console\n          console.warn(\"Supplying an `\".concat(propName, \"` prop to `DraftEditor` has \") + 'been deprecated. If your handler needs access to the keyboard ' + 'event, supply a custom `keyBindingFn` prop that falls back to ' + 'the default one (eg. https://is.gd/wHKQ3W).');\n        }\n      });\n    } // See `restoreEditorDOM()`.\n\n\n    _this.state = {\n      contentsKey: 0\n    };\n    return _this;\n  }\n  /**\n   * Build a method that will pass the event to the specified handler method.\n   * This allows us to look up the correct handler function for the current\n   * editor mode, if any has been specified.\n   */\n\n\n  var _proto2 = DraftEditor.prototype;\n\n  _proto2._buildHandler = function _buildHandler(eventName) {\n    var _this2 = this;\n\n    // Wrap event handlers in `flushControlled`. In sync mode, this is\n    // effectively a no-op. In async mode, this ensures all updates scheduled\n    // inside the handler are flushed before React yields to the browser.\n    return function (e) {\n      if (!_this2.props.readOnly) {\n        var method = _this2._handler && _this2._handler[eventName];\n\n        if (method) {\n          if (flushControlled) {\n            flushControlled(function () {\n              return method(_this2, e);\n            });\n          } else {\n            method(_this2, e);\n          }\n        }\n      }\n    };\n  };\n\n  _proto2._showPlaceholder = function _showPlaceholder() {\n    return !!this.props.placeholder && !this.props.editorState.isInCompositionMode() && !this.props.editorState.getCurrentContent().hasText();\n  };\n\n  _proto2._renderPlaceholder = function _renderPlaceholder() {\n    if (this._showPlaceholder()) {\n      var placeHolderProps = {\n        text: nullthrows(this.props.placeholder),\n        editorState: this.props.editorState,\n        textAlignment: this.props.textAlignment,\n        accessibilityID: this._placeholderAccessibilityID\n      };\n      /* $FlowFixMe[incompatible-type] (>=0.112.0 site=www,mobile) This comment\n       * suppresses an error found when Flow v0.112 was deployed. To see the\n       * error delete this comment and run Flow. */\n\n      return React.createElement(DraftEditorPlaceholder, placeHolderProps);\n    }\n\n    return null;\n  }\n  /**\n   * returns ariaDescribedBy prop with '{{editor_id_placeholder}}' replaced with\n   * the DOM id of the placeholder (if it exists)\n   * @returns aria-describedby attribute value\n   */\n  ;\n\n  _proto2._renderARIADescribedBy = function _renderARIADescribedBy() {\n    var describedBy = this.props.ariaDescribedBy || '';\n    var placeholderID = this._showPlaceholder() ? this._placeholderAccessibilityID : '';\n    return describedBy.replace('{{editor_id_placeholder}}', placeholderID) || undefined;\n  };\n\n  _proto2.render = function render() {\n    var _this$props2 = this.props,\n        blockRenderMap = _this$props2.blockRenderMap,\n        blockRendererFn = _this$props2.blockRendererFn,\n        blockStyleFn = _this$props2.blockStyleFn,\n        customStyleFn = _this$props2.customStyleFn,\n        customStyleMap = _this$props2.customStyleMap,\n        editorState = _this$props2.editorState,\n        preventScroll = _this$props2.preventScroll,\n        readOnly = _this$props2.readOnly,\n        textAlignment = _this$props2.textAlignment,\n        textDirectionality = _this$props2.textDirectionality;\n    var rootClass = cx({\n      'DraftEditor/root': true,\n      'DraftEditor/alignLeft': textAlignment === 'left',\n      'DraftEditor/alignRight': textAlignment === 'right',\n      'DraftEditor/alignCenter': textAlignment === 'center'\n    });\n    var contentStyle = {\n      outline: 'none',\n      // fix parent-draggable Safari bug. #1326\n      userSelect: 'text',\n      WebkitUserSelect: 'text',\n      whiteSpace: 'pre-wrap',\n      wordWrap: 'break-word'\n    }; // The aria-expanded and aria-haspopup properties should only be rendered\n    // for a combobox.\n\n    /* $FlowFixMe[prop-missing] (>=0.68.0 site=www,mobile) This comment\n     * suppresses an error found when Flow v0.68 was deployed. To see the error\n     * delete this comment and run Flow. */\n\n    var ariaRole = this.props.role || 'textbox';\n    var ariaExpanded = ariaRole === 'combobox' ? !!this.props.ariaExpanded : null;\n    var editorContentsProps = {\n      blockRenderMap: blockRenderMap,\n      blockRendererFn: blockRendererFn,\n      blockStyleFn: blockStyleFn,\n      customStyleMap: _objectSpread({}, DefaultDraftInlineStyle, customStyleMap),\n      customStyleFn: customStyleFn,\n      editorKey: this._editorKey,\n      editorState: editorState,\n      preventScroll: preventScroll,\n      textDirectionality: textDirectionality\n    };\n    return React.createElement(\"div\", {\n      className: rootClass\n    }, this._renderPlaceholder(), React.createElement(\"div\", {\n      className: cx('DraftEditor/editorContainer'),\n      ref: this._handleEditorContainerRef\n    }, React.createElement(\"div\", {\n      \"aria-activedescendant\": readOnly ? null : this.props.ariaActiveDescendantID,\n      \"aria-autocomplete\": readOnly ? null : this.props.ariaAutoComplete,\n      \"aria-controls\": readOnly ? null : this.props.ariaControls,\n      \"aria-describedby\": this._renderARIADescribedBy(),\n      \"aria-expanded\": readOnly ? null : ariaExpanded,\n      \"aria-label\": this.props.ariaLabel,\n      \"aria-labelledby\": this.props.ariaLabelledBy,\n      \"aria-multiline\": this.props.ariaMultiline,\n      \"aria-owns\": readOnly ? null : this.props.ariaOwneeID,\n      autoCapitalize: this.props.autoCapitalize,\n      autoComplete: this.props.autoComplete,\n      autoCorrect: this.props.autoCorrect,\n      className: cx({\n        // Chrome's built-in translation feature mutates the DOM in ways\n        // that Draft doesn't expect (ex: adding <font> tags inside\n        // DraftEditorLeaf spans) and causes problems. We add notranslate\n        // here which makes its autotranslation skip over this subtree.\n        notranslate: !readOnly,\n        'public/DraftEditor/content': true\n      }),\n      contentEditable: !readOnly,\n      \"data-testid\": this.props.webDriverTestID,\n      onBeforeInput: this._onBeforeInput,\n      onBlur: this._onBlur,\n      onCompositionEnd: this._onCompositionEnd,\n      onCompositionStart: this._onCompositionStart,\n      onCopy: this._onCopy,\n      onCut: this._onCut,\n      onDragEnd: this._onDragEnd,\n      onDragEnter: this.onDragEnter,\n      onDragLeave: this.onDragLeave,\n      onDragOver: this._onDragOver,\n      onDragStart: this._onDragStart,\n      onDrop: this._onDrop,\n      onFocus: this._onFocus,\n      onInput: this._onInput,\n      onKeyDown: this._onKeyDown,\n      onKeyPress: this._onKeyPress,\n      onKeyUp: this._onKeyUp,\n      onMouseUp: this._onMouseUp,\n      onPaste: this._onPaste,\n      onSelect: this._onSelect,\n      ref: this.props.editorRef,\n      role: readOnly ? null : ariaRole,\n      spellCheck: allowSpellCheck && this.props.spellCheck,\n      style: contentStyle,\n      suppressContentEditableWarning: true,\n      tabIndex: this.props.tabIndex\n    }, React.createElement(UpdateDraftEditorFlags, {\n      editor: this,\n      editorState: editorState\n    }), React.createElement(DraftEditorContents, _extends({}, editorContentsProps, {\n      key: 'contents' + this.state.contentsKey\n    })))));\n  };\n\n  _proto2.componentDidMount = function componentDidMount() {\n    this._blockSelectEvents = false;\n\n    if (!didInitODS && gkx('draft_ods_enabled')) {\n      didInitODS = true;\n      DraftEffects.initODS();\n    }\n\n    this.setMode('edit');\n    /**\n     * IE has a hardcoded \"feature\" that attempts to convert link text into\n     * anchors in contentEditable DOM. This breaks the editor's expectations of\n     * the DOM, and control is lost. Disable it to make IE behave.\n     * See: http://blogs.msdn.com/b/ieinternals/archive/2010/09/15/\n     * ie9-beta-minor-change-list.aspx\n     */\n\n    if (isIE) {\n      // editor can be null after mounting\n      // https://stackoverflow.com/questions/44074747/componentdidmount-called-before-ref-callback\n      if (!this.editor) {\n        global.execCommand('AutoUrlDetect', false, false);\n      } else {\n        this.editor.ownerDocument.execCommand('AutoUrlDetect', false, false);\n      }\n    }\n  };\n\n  _proto2.componentDidUpdate = function componentDidUpdate() {\n    this._blockSelectEvents = false;\n    this._latestEditorState = this.props.editorState;\n    this._latestCommittedEditorState = this.props.editorState;\n  }\n  /**\n   * Used via `this.focus()`.\n   *\n   * Force focus back onto the editor node.\n   *\n   * We attempt to preserve scroll position when focusing. You can also pass\n   * a specified scroll position (for cases like `cut` behavior where it should\n   * be restored to a known position).\n   */\n  ;\n\n  return DraftEditor;\n}(React.Component);\n\n_defineProperty(DraftEditor, \"defaultProps\", {\n  ariaDescribedBy: '{{editor_id_placeholder}}',\n  blockRenderMap: DefaultDraftBlockRenderMap,\n  blockRendererFn: function blockRendererFn() {\n    return null;\n  },\n  blockStyleFn: function blockStyleFn() {\n    return '';\n  },\n  keyBindingFn: getDefaultKeyBinding,\n  readOnly: false,\n  spellCheck: false,\n  stripPastedStyles: false\n});\n\nmodule.exports = DraftEditor;"]},"metadata":{},"sourceType":"script"}